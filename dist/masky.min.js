new class{constructor(){this.inputs=null,this.init(),this.tokens={0:{validateRule:/\d/},A:{validateRule:/[a-zA-Z0-9]/},S:{validateRule:/[a-zA-Z]/}}}init(){"complete"===document.readyState?(this.initModalListener(),this.getInput()):window.addEventListener("load",this.init.bind(this))}getInput(){this.inputs=document.querySelectorAll("input[data-mask]"),this.inputs.forEach((t=>{this.handleMappedMasks(t),t.addEventListener("input",this.maskInput.bind(this)),t.addEventListener("blur",this.validateInput.bind(this))}))}maskInput(t){const e=t.target;if(e.setCustomValidity(""),"deleteContentBackward"===t.inputType)return;const i=e.dataset.mask,s=e.value,a=e.dataset.maskPrefix,n=e.dataset.maskSuffix,r=this.removeMask(i,s,a,n),l="true"===e.dataset.maskReverse,d=this.applyMask(r,i,l,a,n);e.value=d,e.checkValidity()}removeMask(t,e,i,s){if(!t||!e)return e;i&&(e=e.replace(i,"")),s&&(e=e.replace(s,""));const a=Object.keys(this.tokens),n=new RegExp(`[${a.join("")}]`,"g"),r=t.replace(n,"");return e.replace(new RegExp(`[${r}]`,"g"),"")}applyMask(t,e,i,s,a){if(!t)return t;let n="",r=0,l=e.split("");i&&(t=t.split("").reverse().join(""),l=l.reverse());for(let e=0;e<l.length;e++)if(this.tokens[l[e]]){const i=this.tokens[l[e]];if(!new RegExp(i.validateRule).test(t[r])||!t[r])break;n+=t[r],r++}else n+=l[e];return i&&(n=n.split("").reverse().join(""),n=n.startsWith(".")?n.substring(1):n),s&&(n=s+n),a&&(n+=a),n}validateInput(t){const e=t.target,i=e.value,s=i.length,a=e.minLength,n=e.dataset.maskValidation||null;if(s>0&&s<a){const t=`The minimum number of characters required is ${a}. Please complete the field.`;return e.setCustomValidity(t),void e.reportValidity()}const r={cpf:this.isValidCPF,cnpj:this.isValidCNPJ};if(i&&n&&r[n]&&!r[n](i)){const t=`Invalid ${n.toUpperCase()}. Please enter a valid value.`;return e.setCustomValidity(t),void e.reportValidity()}e.setCustomValidity("")}isValidCPF(t){const e=t.replace(/[^\d]+/g,"");if(11!==e.length||/^(\d)\1{10}$/.test(e))return!1;for(let t=9;t<11;t++){let i=0;for(let s=0;s<t;s++)i+=parseInt(e[s])*(t+1-s);const s=10*i%11%10;if(parseInt(e[t])!==s)return!1}return!0}isValidCNPJ(t){if(14!==(t=t.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(t))return!1;const e=(t,e)=>{let i=0;for(let s=0;s<t.length;s++)i+=t[s]*e[s];const s=i%11;return s<2?0:11-s},i=t.slice(0,12),s=e(i,[5,4,3,2,9,8,7,6,5,4,3,2]),a=e(i+s,[6,5,4,3,2,9,8,7,6,5,4,3,2]);return t===i+s.toString()+a.toString()}};